<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KPMG-PFCG Pentest Finding Card Generator</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #06b6d4 0%, #0891b2 25%, #0e7490 75%, #164e63 100%);
            --secondary-gradient: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
            --success-gradient: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            --danger-gradient: linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #dc2626 100%);
            --dark-gradient: linear-gradient(135deg, #1f2937 0%, #111827 50%, #0f172a 100%);
            --accent-gradient: linear-gradient(135deg, #06b6d4 0%, #8b5cf6 50%, #ec4899 100%);
            --card-shadow: 0 20px 45px rgba(6, 182, 212, 0.15), 0 8px 25px rgba(0, 0, 0, 0.1);
            --hover-shadow: 0 25px 55px rgba(6, 182, 212, 0.25), 0 12px 35px rgba(0, 0, 0, 0.15);
            --glow-shadow: 0 0 40px rgba(6, 182, 212, 0.3);
        }

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        body {
            background: var(--dark-gradient);
            min-height: 100vh;
            padding: 20px 0;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(6, 182, 212, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        .main-container {
            background: rgba(31, 41, 55, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(6, 182, 212, 0.2);
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
        }

        .main-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-gradient);
            z-index: 1;
        }

        .main-container:hover {
            box-shadow: var(--hover-shadow);
            transform: translateY(-3px);
            border-color: rgba(6, 182, 212, 0.4);
        }

        .header-section {
            background: var(--primary-gradient);
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 50%),
                conic-gradient(from 0deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: float 8s ease-in-out infinite;
        }

        .header-section::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-15px) rotate(120deg); }
            66% { transform: translateY(-10px) rotate(240deg); }
        }

        .header-title {
            color: white;
            font-weight: 800;
            font-size: 2.5rem;
            margin-bottom: 0.8rem;
            text-shadow: 0 2px 20px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
            letter-spacing: -0.02em;
        }

        .header-brand {
            background: linear-gradient(135deg, #ffffff 0%, #06b6d4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
        }

        .header-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-weight: 400;
            font-size: 1.2rem;
            position: relative;
            z-index: 1;
            opacity: 0.95;
        }

                 .disclaimer-section {
             background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(220, 38, 38, 0.25) 100%);
             border-left: 6px solid #dc2626;
             margin: 2rem;
             padding: 2rem;
             border-radius: 16px;
             box-shadow: 0 12px 35px rgba(239, 68, 68, 0.3);
             backdrop-filter: blur(15px);
             border: 2px solid rgba(239, 68, 68, 0.4);
             animation: pulse-warning 3s ease-in-out infinite;
         }

         @keyframes pulse-warning {
             0%, 100% { 
                 box-shadow: 0 12px 35px rgba(239, 68, 68, 0.3);
                 border-color: rgba(239, 68, 68, 0.4);
             }
             50% { 
                 box-shadow: 0 16px 45px rgba(239, 68, 68, 0.5);
                 border-color: rgba(239, 68, 68, 0.6);
             }
         }

         .disclaimer-title {
             color: #ef4444;
             font-weight: 800;
             font-size: 1.3rem;
             margin-bottom: 1rem;
             text-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
             text-transform: uppercase;
             letter-spacing: 0.5px;
         }

        .disclaimer-text {
            color: #e5e7eb;
            font-size: 1rem;
            line-height: 1.7;
            margin-bottom: 0;
        }

        .form-section {
            padding: 2.5rem;
        }

        .form-label {
            font-weight: 600;
            color: #f3f4f6;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .form-control, .form-select {
            border-radius: 16px;
            border: 2px solid rgba(6, 182, 212, 0.2);
            padding: 1rem 1.5rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: rgba(31, 41, 55, 0.8);
            color: #f3f4f6;
            backdrop-filter: blur(10px);
        }

        .form-control::placeholder {
            color: #9ca3af;
        }

        .form-control:focus, .form-select:focus {
            border-color: #06b6d4;
            box-shadow: 0 0 0 0.25rem rgba(6, 182, 212, 0.25), var(--glow-shadow);
            background: rgba(31, 41, 55, 0.95);
            color: #ffffff;
        }

        .form-text {
            font-size: 0.9rem;
            color: #9ca3af;
            margin-top: 0.8rem;
            line-height: 1.5;
        }

        .btn-primary {
            background: var(--primary-gradient);
            border: none;
            border-radius: 16px;
            padding: 1.2rem 2.5rem;
            font-weight: 700;
            font-size: 1.2rem;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.4);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(6, 182, 212, 0.6), var(--glow-shadow);
            background: linear-gradient(135deg, #0891b2 0%, #06b6d4 25%, #10b981 75%, #059669 100%);
        }

        .btn-success {
            background: var(--success-gradient);
            border: none;
            border-radius: 12px;
            padding: 1rem 2rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(6, 182, 212, 0.4);
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(6, 182, 212, 0.6);
        }

        .alert {
            border-radius: 16px;
            border: none;
            padding: 1.5rem;
            margin-bottom: 2rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.15);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.2);
        }

        .alert-danger {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.2);
        }

        .form-check-input {
            width: 1.3em;
            height: 1.3em;
            border-radius: 0.4em;
            border: 2px solid rgba(6, 182, 212, 0.3);
            background: rgba(31, 41, 55, 0.8);
        }

        .form-check-input:checked {
            background: var(--primary-gradient);
            border-color: #06b6d4;
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
        }

        .form-check-label {
            font-weight: 500;
            color: #e5e7eb;
            margin-left: 0.8rem;
        }

        .instructions-section {
            background: rgba(55, 65, 81, 0.6);
            border-radius: 16px;
            padding: 2rem;
            margin-top: 2.5rem;
            border: 1px solid rgba(6, 182, 212, 0.1);
            backdrop-filter: blur(10px);
        }

        .instructions-title {
            color: #06b6d4;
            font-weight: 700;
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
        }

        .instructions-list {
            color: #d1d5db;
            font-size: 1rem;
            line-height: 2;
            margin-bottom: 0;
        }

        .instructions-list li {
            margin-bottom: 0.8rem;
            position: relative;
            padding-left: 0.5rem;
        }

        .instructions-list li::before {
            content: '→';
            color: #06b6d4;
            font-weight: bold;
            position: absolute;
            left: -1rem;
        }

        .icon-gradient {
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .file-upload-zone {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .file-upload-zone::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.3), transparent);
            transition: left 0.6s;
        }

        .file-upload-zone:hover::after {
            left: 100%;
        }

        .cyber-pattern {
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            opacity: 0.1;
            background: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%2306b6d4' fill-opacity='0.4'%3E%3Cpath d='m0 40l40-40h-40v40zm40 0v-40h-40l40 40z'/%3E%3C/g%3E%3C/svg%3E");
        }

        @media (max-width: 768px) {
            .header-title {
                font-size: 2rem;
            }
            
            .header-subtitle {
                font-size: 1rem;
            }
            
            .form-section {
                padding: 2rem;
            }
            
            .disclaimer-section {
                margin: 1.5rem;
                padding: 1.5rem;
            }

            .btn-primary {
                padding: 1rem 2rem;
                font-size: 1.1rem;
            }
        }

        .pulse-animation {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: .5;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-8 col-xl-6">
                <div class="main-container">
                    <div class="cyber-pattern"></div>
                    
                    <!-- Header Section -->
                    <div class="header-section">
                        <h1 class="header-title">
                            <i class="fas fa-shield-alt me-3"></i>
                            <span class="header-brand">KPMG-PFCG</span>
                        </h1>
                        <p class="header-subtitle">
                            Pentest Finding Card Generator
                        </p>
                    </div>

                    <!-- Disclaimer Section -->
                    <div class="disclaimer-section">
                        <h6 class="disclaimer-title">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            Önemli Uyarı ve Sorumluluk Reddi
                        </h6>
                        <p class="disclaimer-text">
                            Bu araç yalnızca yetkili güvenlik testleri ve yasal penetrasyon testleri için kullanılmalıdır. 
                            Kullanıcılar, yükledikleri dosyaların güvenliğinden ve içeriğinden tamamen sorumludur. 
                            Hassas bilgilerin korunması kullanıcının sorumluluğundadır. Bu aracın kötüye kullanımından 
                            doğabilecek herhangi bir zarar veya yasal sorumluluktan geliştirici sorumlu tutulamaz.
                        </p>
                    </div>

                    <div class="form-section">

                        {% with messages = get_flashed_messages(with_categories=true) %}
                            {% if messages %}
                                {% for category, message in messages %}
                                    {% if category == 'error' %}
                        <div class="alert alert-danger" role="alert">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                                        {{ message }}
                        </div>
                        {% endif %}
                                {% endfor %}
                            {% endif %}
                        {% endwith %}

                        <form method="POST" enctype="multipart/form-data" action="{{ url_for('upload') }}">
                            <div class="mb-4">
                                <label for="nessus_file" class="form-label">
                                    <i class="fas fa-upload me-2 icon-gradient"></i>
                                    Nessus XML Dosyası Seçin (.nessus)
                                </label>
                                <div class="file-upload-zone">
                                <input type="file" 
                                       class="form-control" 
                                       id="nessus_file" 
                                       name="nessus_file" 
                                       accept=".nessus,.xml"
                                       required>
                                </div>
                                <div class="form-text">
                                    Nessus XML güvenlik açığı tarama raporu (.nessus dosyası) yükleyin.
                                    Maksimum dosya boyutu: 100MB.
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="customer_abbreviation" class="form-label">
                                    <i class="fas fa-building me-2 icon-gradient"></i>
                                    Müşteri Kısaltması
                                </label>
                                <input type="text" 
                                       class="form-control" 
                                       id="customer_abbreviation" 
                                       name="customer_abbreviation" 
                                       placeholder="örn: ACME, BANK, CORP"
                                       maxlength="10"
                                       pattern="[A-Za-z0-9]+"
                                       title="Yalnızca harf ve rakam kullanılabilir"
                                       required>
                                <div class="form-text">
                                    PT kodları için müşteri kısaltmasını girin (örn: ACME → PT-ACME-2025-46-D001).
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">
                                    <i class="fas fa-network-wired me-2 icon-gradient"></i>
                                    Ağ Türü
                                </label>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" 
                                           type="radio" 
                                           id="network_external" 
                                           name="network_type" 
                                           value="external"
                                           checked>
                                    <label class="form-check-label" for="network_external">
                                        <i class="fas fa-globe me-2"></i>
                                        Dış Ağ (External Network) - Kodlar D001 ile başlar
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" 
                                           type="radio" 
                                           id="network_internal" 
                                           name="network_type" 
                                           value="internal">
                                    <label class="form-check-label" for="network_internal">
                                        <i class="fas fa-home me-2"></i>
                                        İç Ağ (Internal Network) - Kodlar I001 ile başlar
                                    </label>
                                </div>
                            </div>

                            <div class="mb-4">
                                <div class="form-check">
                                    <input class="form-check-input" 
                                           type="checkbox" 
                                           id="include_informational" 
                                           name="include_informational"
                                           checked>
                                    <label class="form-check-label" for="include_informational">
                                        <i class="fas fa-info-circle me-2"></i>
                                        Bilgilendirici Seviye Güvenlik Açıklarını Dahil Et
                                    </label>
                                    <div class="form-text">
                                        Bilgilendirici bulguları rapordan çıkarmak için bu seçeneği kaldırın.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-magic me-2"></i>
                                    Bulgu Kartı Oluştur
                                </button>
                            </div>
                        </form>

                        <div class="instructions-section">
                            <h5 class="instructions-title">
                                <i class="fas fa-list-ol me-2"></i>
                                Kullanım Talimatları
                            </h5>
                            <ol class="instructions-list">
                                <li>Nessus tarama sonuçlarınızı XML dosyası olarak dışa aktarın (.nessus formatında)</li>
                                <li>Yukarıdaki formu kullanarak dosyayı yükleyin</li>
                                <li>İşlemin tamamlanmasını bekleyin</li>
                                <li>Oluşturulan DOCX raporunu indirin</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    
    <script>
                 // Form submission animation
         document.querySelector('form').addEventListener('submit', function(e) {
             const submitBtn = this.querySelector('button[type="submit"]');
             submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Bulgu Kartı Oluşturuluyor...';
             submitBtn.disabled = true;
             submitBtn.classList.add('pulse-animation');
         });

        // File input animation and validation
        document.getElementById('nessus_file').addEventListener('change', function(e) {
            if (this.files.length > 0) {
                const fileName = this.files[0].name;
                const fileSize = (this.files[0].size / 1024 / 1024).toFixed(2);
                this.style.borderColor = '#10b981';
                this.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
                this.style.boxShadow = '0 0 20px rgba(16, 185, 129, 0.3)';
                
                // Show file info
                const fileInfo = document.createElement('div');
                fileInfo.className = 'mt-2 text-success';
                fileInfo.innerHTML = `<i class="fas fa-check-circle me-2"></i>Dosya seçildi: ${fileName} (${fileSize} MB)`;
                
                // Remove existing file info
                const existingInfo = this.parentElement.parentElement.querySelector('.file-info');
                if (existingInfo) existingInfo.remove();
                
                fileInfo.className += ' file-info';
                this.parentElement.parentElement.appendChild(fileInfo);
            }
        });

        // Add cyberpunk effects
        document.addEventListener('DOMContentLoaded', function() {
            // Add glitch effect to title on hover
            const title = document.querySelector('.header-brand');
            title.addEventListener('mouseenter', function() {
                this.style.animation = 'glitch 0.3s ease-in-out';
            });
            
            title.addEventListener('mouseleave', function() {
                this.style.animation = '';
            });
        });

        // Glitch animation keyframes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes glitch {
                0% { transform: translate(0); }
                20% { transform: translate(-2px, 2px); }
                40% { transform: translate(-2px, -2px); }
                60% { transform: translate(2px, 2px); }
                80% { transform: translate(2px, -2px); }
                100% { transform: translate(0); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html> 